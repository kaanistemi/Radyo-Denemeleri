{"filter":false,"title":"radio.js","tooltip":"/assets/js/radio.js","undoManager":{"mark":15,"position":15,"stack":[[{"start":{"row":26,"column":0},"end":{"row":27,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":71,"column":6},"end":{"row":72,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":72,"column":0},"end":{"row":72,"column":4},"action":"insert","lines":["    "]},{"start":{"row":72,"column":4},"end":{"row":73,"column":0},"action":"insert","lines":["",""]},{"start":{"row":73,"column":0},"end":{"row":73,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":190,"column":9},"end":{"row":191,"column":0},"action":"insert","lines":["",""],"id":6},{"start":{"row":191,"column":0},"end":{"row":191,"column":6},"action":"insert","lines":["      "]},{"start":{"row":191,"column":6},"end":{"row":192,"column":0},"action":"insert","lines":["",""]},{"start":{"row":192,"column":0},"end":{"row":192,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":610,"column":5},"end":{"row":611,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":611,"column":0},"end":{"row":611,"column":4},"action":"insert","lines":["    "]},{"start":{"row":611,"column":4},"end":{"row":612,"column":0},"action":"insert","lines":["",""]},{"start":{"row":612,"column":0},"end":{"row":612,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":71,"column":6},"end":{"row":72,"column":0},"action":"insert","lines":["",""],"id":33},{"start":{"row":72,"column":0},"end":{"row":72,"column":4},"action":"insert","lines":["    "]},{"start":{"row":72,"column":4},"end":{"row":73,"column":0},"action":"insert","lines":["",""]},{"start":{"row":73,"column":0},"end":{"row":73,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":73,"column":4},"end":{"row":121,"column":33},"action":"insert","lines":["                        <script>","                                            function setCookie(c_name,value,exdays)","{","    var exdate=new Date();","    exdate.setDate(exdate.getDate() + exdays);","    var c_value=escape(value) + ((exdays==null) ? \"\" : \"; expires=\"+exdate.toUTCString());+ \"; path=/\"","    document.cookie=c_name + \"=\" + c_value;","}","","function getCookie(c_name)","{","    var i,x,y,ARRcookies=document.cookie.split(\";\");","    for (i=0;i<ARRcookies.length;i++)","    {","      x=ARRcookies[i].substr(0,ARRcookies[i].indexOf(\"=\"));","      y=ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\")+1);","      x=x.replace(/^\\s+|\\s+$/g,\"\");","      if (x==c_name)","        {","        return unescape(y);","        }","      }","}","","var song = document.getElementsByTagName('audio')[0];","var played = false;","var tillPlayed = getCookie('timePlayed');","function update()","{","    if(!played){","        if(tillPlayed){","        song.currentTime = tillPlayed;","        song.play();","        played = true;","        }","        else {","                song.play();","                played = true;","        }","    }","","    else {","    setCookie('timePlayed', song.currentTime);","    }","}","setInterval(update,1000)","","  ","                        </script>"],"id":34}],[{"start":{"row":121,"column":32},"end":{"row":121,"column":33},"action":"remove","lines":[">"],"id":35},{"start":{"row":121,"column":31},"end":{"row":121,"column":32},"action":"remove","lines":["t"]},{"start":{"row":121,"column":30},"end":{"row":121,"column":31},"action":"remove","lines":["p"]},{"start":{"row":121,"column":29},"end":{"row":121,"column":30},"action":"remove","lines":["i"]},{"start":{"row":121,"column":28},"end":{"row":121,"column":29},"action":"remove","lines":["r"]},{"start":{"row":121,"column":27},"end":{"row":121,"column":28},"action":"remove","lines":["c"]},{"start":{"row":121,"column":26},"end":{"row":121,"column":27},"action":"remove","lines":["s"]},{"start":{"row":121,"column":25},"end":{"row":121,"column":26},"action":"remove","lines":["/"]},{"start":{"row":121,"column":24},"end":{"row":121,"column":25},"action":"remove","lines":["<"]},{"start":{"row":121,"column":22},"end":{"row":121,"column":24},"action":"remove","lines":["  "]},{"start":{"row":121,"column":20},"end":{"row":121,"column":22},"action":"remove","lines":["  "]}],[{"start":{"row":73,"column":35},"end":{"row":73,"column":36},"action":"remove","lines":[">"],"id":36},{"start":{"row":73,"column":34},"end":{"row":73,"column":35},"action":"remove","lines":["t"]},{"start":{"row":73,"column":33},"end":{"row":73,"column":34},"action":"remove","lines":["p"]},{"start":{"row":73,"column":32},"end":{"row":73,"column":33},"action":"remove","lines":["i"]},{"start":{"row":73,"column":31},"end":{"row":73,"column":32},"action":"remove","lines":["r"]},{"start":{"row":73,"column":30},"end":{"row":73,"column":31},"action":"remove","lines":["c"]},{"start":{"row":73,"column":29},"end":{"row":73,"column":30},"action":"remove","lines":["s"]},{"start":{"row":73,"column":28},"end":{"row":73,"column":29},"action":"remove","lines":["<"]}],[{"start":{"row":74,"column":42},"end":{"row":74,"column":44},"action":"remove","lines":["  "],"id":37},{"start":{"row":74,"column":40},"end":{"row":74,"column":42},"action":"remove","lines":["  "]},{"start":{"row":74,"column":38},"end":{"row":74,"column":40},"action":"remove","lines":["  "]},{"start":{"row":74,"column":36},"end":{"row":74,"column":38},"action":"remove","lines":["  "]},{"start":{"row":74,"column":34},"end":{"row":74,"column":36},"action":"remove","lines":["  "]},{"start":{"row":74,"column":32},"end":{"row":74,"column":34},"action":"remove","lines":["  "]},{"start":{"row":74,"column":30},"end":{"row":74,"column":32},"action":"remove","lines":["  "]},{"start":{"row":74,"column":28},"end":{"row":74,"column":30},"action":"remove","lines":["  "]},{"start":{"row":74,"column":26},"end":{"row":74,"column":28},"action":"remove","lines":["  "]},{"start":{"row":74,"column":24},"end":{"row":74,"column":26},"action":"remove","lines":["  "]},{"start":{"row":74,"column":22},"end":{"row":74,"column":24},"action":"remove","lines":["  "]},{"start":{"row":74,"column":20},"end":{"row":74,"column":22},"action":"remove","lines":["  "]},{"start":{"row":74,"column":18},"end":{"row":74,"column":20},"action":"remove","lines":["  "]}],[{"start":{"row":74,"column":16},"end":{"row":74,"column":18},"action":"remove","lines":["  "],"id":38},{"start":{"row":74,"column":14},"end":{"row":74,"column":16},"action":"remove","lines":["  "]},{"start":{"row":74,"column":12},"end":{"row":74,"column":14},"action":"remove","lines":["  "]},{"start":{"row":74,"column":10},"end":{"row":74,"column":12},"action":"remove","lines":["  "]},{"start":{"row":74,"column":8},"end":{"row":74,"column":10},"action":"remove","lines":["  "]},{"start":{"row":74,"column":6},"end":{"row":74,"column":8},"action":"remove","lines":["  "]},{"start":{"row":74,"column":4},"end":{"row":74,"column":6},"action":"remove","lines":["  "]}],[{"start":{"row":74,"column":2},"end":{"row":74,"column":4},"action":"remove","lines":["  "],"id":39}],[{"start":{"row":118,"column":22},"end":{"row":118,"column":23},"action":"remove","lines":["0"],"id":40},{"start":{"row":118,"column":21},"end":{"row":118,"column":22},"action":"remove","lines":["0"]}],[{"start":{"row":78,"column":101},"end":{"row":78,"column":102},"action":"remove","lines":["\""],"id":43},{"start":{"row":78,"column":100},"end":{"row":78,"column":101},"action":"remove","lines":["/"]},{"start":{"row":78,"column":99},"end":{"row":78,"column":100},"action":"remove","lines":["="]},{"start":{"row":78,"column":98},"end":{"row":78,"column":99},"action":"remove","lines":["h"]},{"start":{"row":78,"column":97},"end":{"row":78,"column":98},"action":"remove","lines":["t"]},{"start":{"row":78,"column":96},"end":{"row":78,"column":97},"action":"remove","lines":["a"]},{"start":{"row":78,"column":95},"end":{"row":78,"column":96},"action":"remove","lines":["p"]}],[{"start":{"row":78,"column":94},"end":{"row":78,"column":95},"action":"remove","lines":[" "],"id":44},{"start":{"row":78,"column":93},"end":{"row":78,"column":94},"action":"remove","lines":[";"]},{"start":{"row":78,"column":92},"end":{"row":78,"column":93},"action":"remove","lines":["\""]},{"start":{"row":78,"column":91},"end":{"row":78,"column":92},"action":"remove","lines":[" "]}],[{"start":{"row":78,"column":90},"end":{"row":78,"column":91},"action":"remove","lines":["+"],"id":45}],[{"start":{"row":74,"column":0},"end":{"row":119,"column":0},"action":"remove","lines":["  function setCookie(c_name,value,exdays)","{","    var exdate=new Date();","    exdate.setDate(exdate.getDate() + exdays);","    var c_value=escape(value) + ((exdays==null) ? \"\" : \"; expires=\"+exdate.toUTCString());","    document.cookie=c_name + \"=\" + c_value;","}","","function getCookie(c_name)","{","    var i,x,y,ARRcookies=document.cookie.split(\";\");","    for (i=0;i<ARRcookies.length;i++)","    {","      x=ARRcookies[i].substr(0,ARRcookies[i].indexOf(\"=\"));","      y=ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\")+1);","      x=x.replace(/^\\s+|\\s+$/g,\"\");","      if (x==c_name)","        {","        return unescape(y);","        }","      }","}","","var song = document.getElementsByTagName('audio')[0];","var played = false;","var tillPlayed = getCookie('timePlayed');","function update()","{","    if(!played){","        if(tillPlayed){","        song.currentTime = tillPlayed;","        song.play();","        played = true;","        }","        else {","                song.play();","                played = true;","        }","    }","","    else {","    setCookie('timePlayed', song.currentTime);","    }","}","setInterval(update,10)",""],"id":46}],[{"start":{"row":6,"column":30},"end":{"row":6,"column":31},"action":"remove","lines":[","],"id":50}],[{"start":{"row":6,"column":40},"end":{"row":6,"column":41},"action":"remove","lines":["d"],"id":50},{"start":{"row":6,"column":39},"end":{"row":6,"column":40},"action":"remove","lines":["e"]},{"start":{"row":6,"column":38},"end":{"row":6,"column":39},"action":"remove","lines":["n"]},{"start":{"row":6,"column":37},"end":{"row":6,"column":38},"action":"remove","lines":["i"]},{"start":{"row":6,"column":36},"end":{"row":6,"column":37},"action":"remove","lines":["f"]},{"start":{"row":6,"column":35},"end":{"row":6,"column":36},"action":"remove","lines":["e"]},{"start":{"row":6,"column":34},"end":{"row":6,"column":35},"action":"remove","lines":["d"]},{"start":{"row":6,"column":33},"end":{"row":6,"column":34},"action":"remove","lines":["n"]},{"start":{"row":6,"column":32},"end":{"row":6,"column":33},"action":"remove","lines":["u"]},{"start":{"row":6,"column":31},"end":{"row":6,"column":32},"action":"remove","lines":[" "]}],[{"start":{"row":0,"column":0},"end":{"row":628,"column":0},"action":"remove","lines":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GreenAudioPlayer = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){","\"use strict\";","","module.exports = require('./src/js/main').default;","","},{\"./src/js/main\":2}],2:[function(require,module,exports){","\"use strict\";","","Object.defineProperty(exports, \"__esModule\", {","  value: true","});","exports.default = void 0;","","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }","","function _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }","","function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }","","function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }","","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }","","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }","","function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }","","","","var GreenAudioPlayer =  /*#__PURE__*/function () {","  function GreenAudioPlayer(player, options) {","    _classCallCheck(this, GreenAudioPlayer);","","","","    this.audioPlayer = typeof player === 'string' ? document.querySelector(player) : player;","    var opts = options || {};","    var audioElement = this.audioPlayer.innerHTML;","    this.audioPlayer.classList.add('green-audio-player');","    this.audioPlayer.innerHTML = GreenAudioPlayer.getTemplate() + audioElement;","    this.isDevice = /ipad|iphone|ipod|android/i.test(window.navigator.userAgent.toLowerCase()) && !window.MSStream;","    this.playPauseBtn = this.audioPlayer.querySelector('.play-pause-btn');","    this.loading = this.audioPlayer.querySelector('.loading');","    this.sliders = this.audioPlayer.querySelectorAll('.slider');","    this.progress = this.audioPlayer.querySelector('.controls__progress');","    this.volumeBtn = this.audioPlayer.querySelector('.volume__button');","    this.volumeControls = this.audioPlayer.querySelector('.volume__controls');","    this.volumeProgress = this.volumeControls.querySelector('.volume__progress');","    this.player = this.audioPlayer.querySelector('audio');","    this.currentTime = this.audioPlayer.querySelector('.controls__current-time');","    this.totalTime = this.audioPlayer.querySelector('.controls__total-time');","    this.speaker = this.audioPlayer.querySelector('.volume__speaker');","    this.download = this.audioPlayer.querySelector('.download');","    this.downloadLink = this.audioPlayer.querySelector('.download__link');","    this.span = this.audioPlayer.querySelectorAll('.message__offscreen');","    this.svg = this.audioPlayer.getElementsByTagName('svg');","    this.img = this.audioPlayer.getElementsByTagName('img');","    this.draggableClasses = ['pin'];","    this.currentlyDragged = null;","    this.stopOthersOnPlay = opts.stopOthersOnPlay || false;","    this.enableKeystrokes = opts.enableKeystrokes || false;","    this.showTooltips = opts.showTooltips || false;","    var self = this;","    this.labels = {","      volume: {","        open: 'Open Volume Controls',","        close: 'Close Volume Controls'","      },","      pause: 'Pause',","      play: 'Play',","      download: 'Download'","    };","    ","                            ","","  ","                    ","    ","    ","","    if (!this.enableKeystrokes) {","      for (var i = 0; i < this.span.length; i++) {","        this.span[i].outerHTML = '';","      }","    } else {","      window.addEventListener('keydown', this.pressKb.bind(self), false);","      window.addEventListener('keyup', this.unPressKb.bind(self), false);","      this.sliders[0].setAttribute('tabindex', 0);","      this.sliders[1].setAttribute('tabindex', 0);","      this.download.setAttribute('tabindex', -1);","      this.downloadLink.setAttribute('tabindex', -1);","","      for (var j = 0; j < this.svg.length; j++) {","        this.svg[j].setAttribute('tabindex', 0);","        this.svg[j].setAttribute('focusable', true);","      }","","      for (var k = 0; k < this.img.length; k++) {","        this.img[k].setAttribute('tabindex', 0);","      }","    }","","    if (this.showTooltips) {","      this.playPauseBtn.setAttribute('title', this.labels.play);","      this.volumeBtn.setAttribute('title', this.labels.volume.open);","      this.downloadLink.setAttribute('title', this.labels.download);","    }","","    if (opts.outlineControls || false) {","      this.audioPlayer.classList.add('player-accessible');","    }","","    if (opts.showDownloadButton || false) {","      this.showDownload();","    }","","    this.initEvents();","    this.directionAware();","    this.overcomeIosLimitations();","","    if ('autoplay' in this.player.attributes) {","      var promise = this.player.play();","","      if (promise !== undefined) {","        promise.then(function () {","          var playPauseButton = self.player.parentElement.querySelector('.play-pause-btn__icon');","          playPauseButton.attributes.d.value = 'M0 0h6v24H0zM12 0h6v24h-6z';","          self.playPauseBtn.setAttribute('aria-label', self.labels.pause);","          self.hasSetAttribute(self.playPauseBtn, 'title', self.labels.pause);","        }).catch(function () {","          // eslint-disable-next-line no-console","          console.error('Green Audio Player Error: Autoplay has been prevented, because it is not allowed by this browser.');","        });","      }","    }","    ","    ","","    if ('preload' in this.player.attributes && this.player.attributes.preload.value === 'none') {","      this.playPauseBtn.style.visibility = 'visible';","      this.loading.style.visibility = 'hidden';","    }","  }","","  _createClass(GreenAudioPlayer, [{","    key: \"initEvents\",","    value: function initEvents() {","      var self = this;","      self.audioPlayer.addEventListener('mousedown', function (event) {","        if (self.isDraggable(event.target)) {","          self.currentlyDragged = event.target;","          var handleMethod = self.currentlyDragged.dataset.method;","          var listener = self[handleMethod].bind(self);","          window.addEventListener('mousemove', listener, false);","","          if (self.currentlyDragged.parentElement.parentElement === self.sliders[0]) {","            self.paused = self.player.paused;","            if (self.paused === false) self.togglePlay();","          }","","          window.addEventListener('mouseup', function () {","            if (self.currentlyDragged !== false && self.currentlyDragged.parentElement.parentElement === self.sliders[0] && self.paused !== self.player.paused) {","              self.togglePlay();","            }","","            self.currentlyDragged = false;","            window.removeEventListener('mousemove', listener, false);","          }, false);","        }","      }); // for mobile touches","","      self.audioPlayer.addEventListener('touchstart', function (event) {","        if (self.isDraggable(event.target)) {","          var _event$targetTouches = _slicedToArray(event.targetTouches, 1);","","          self.currentlyDragged = _event$targetTouches[0];","          var handleMethod = self.currentlyDragged.target.dataset.method;","          var listener = self[handleMethod].bind(self);","          window.addEventListener('touchmove', listener, false);","","          if (self.currentlyDragged.parentElement.parentElement === self.sliders[0]) {","            self.paused = self.player.paused;","            if (self.paused === false) self.togglePlay();","          }","","          window.addEventListener('touchend', function () {","            if (self.currentlyDragged !== false && self.currentlyDragged.parentElement.parentElement === self.sliders[0] && self.paused !== self.player.paused) {","              self.togglePlay();","            }","","            self.currentlyDragged = false;","            window.removeEventListener('touchmove', listener, false);","          }, false);","          event.preventDefault();","        }","      });","      ","      ","      this.playPauseBtn.addEventListener('click', this.togglePlay.bind(self));","      this.player.addEventListener('timeupdate', this.updateProgress.bind(self));","      this.player.addEventListener('volumechange', this.updateVolume.bind(self));","      this.player.volume = 0.81;","      this.player.addEventListener('loadedmetadata', function () {","        self.totalTime.textContent = GreenAudioPlayer.formatTime(self.player.duration);","      });","      this.player.addEventListener('seeking', this.showLoadingIndicator.bind(self));","      this.player.addEventListener('seeked', this.hideLoadingIndicator.bind(self));","      this.player.addEventListener('canplay', this.hideLoadingIndicator.bind(self));","      this.player.addEventListener('ended', function () {","        GreenAudioPlayer.pausePlayer(self.player, 'ended');","        self.player.currentTime = 0;","        self.playPauseBtn.setAttribute('aria-label', self.labels.play);","        self.hasSetAttribute(self.playPauseBtn, 'title', self.labels.play);","      });","      this.volumeBtn.addEventListener('click', this.showHideVolume.bind(self));","      window.addEventListener('resize', self.directionAware.bind(self));","      window.addEventListener('scroll', self.directionAware.bind(self));","","      for (var i = 0; i < this.sliders.length; i++) {","        var pin = this.sliders[i].querySelector('.pin');","        this.sliders[i].addEventListener('click', self[pin.dataset.method].bind(self));","      }","","      this.downloadLink.addEventListener('click', this.downloadAudio.bind(self));","    }","  }, {","    key: \"overcomeIosLimitations\",","    value: function overcomeIosLimitations() {","      var self = this;","","      if (this.isDevice) {","        // iOS does not support \"canplay\" event","        this.player.addEventListener('loadedmetadata', this.hideLoadingIndicator.bind(self)); // iOS does not let \"volume\" property to be set programmatically","","        this.audioPlayer.querySelector('.volume').style.display = 'none';","        this.audioPlayer.querySelector('.controls').style.marginRight = '0';","      }","    }","  }, {","    key: \"isDraggable\",","    value: function isDraggable(el) {","      var canDrag = false;","      if (typeof el.classList === 'undefined') return false; // fix for IE 11 not supporting classList on SVG elements","","      for (var i = 0; i < this.draggableClasses.length; i++) {","        if (el.classList.contains(this.draggableClasses[i])) {","          canDrag = true;","        }","      }","","      return canDrag;","    }","  }, {","    key: \"inRange\",","    value: function inRange(event) {","      var touch = 'touches' in event; // instanceof TouchEvent may also be used","","      var rangeBox = this.getRangeBox(event);","      var sliderPositionAndDimensions = rangeBox.getBoundingClientRect();","      var direction = rangeBox.dataset.direction;","      var min = null;","      var max = null;","","      if (direction === 'horizontal') {","        min = sliderPositionAndDimensions.x;","        max = min + sliderPositionAndDimensions.width;","        var clientX = touch ? event.touches[0].clientX : event.clientX;","        if (clientX < min || clientX > max) return false;","      } else {","        min = sliderPositionAndDimensions.top;","        max = min + sliderPositionAndDimensions.height;","        var clientY = touch ? event.touches[0].clientY : event.clientY;","        if (clientY < min || clientY > max) return false;","      }","","      return true;","    }","  }, {","    key: \"updateProgress\",","    value: function updateProgress() {","      var current = this.player.currentTime;","      var percent = current / this.player.duration * 100;","      this.progress.setAttribute('aria-valuenow', percent);","      this.progress.style.width = \"\".concat(percent, \"%\");","      this.currentTime.textContent = GreenAudioPlayer.formatTime(current);","    }","  }, {","    key: \"updateVolume\",","    value: function updateVolume() {","      this.volumeProgress.setAttribute('aria-valuenow', this.player.volume * 100);","      this.volumeProgress.style.height = \"\".concat(this.player.volume * 100, \"%\");","","      if (this.player.volume >= 0.5) {","        this.speaker.attributes.d.value = 'M14.667 0v2.747c3.853 1.146 6.666 4.72 6.666 8.946 0 4.227-2.813 7.787-6.666 8.934v2.76C20 22.173 24 17.4 24 11.693 24 5.987 20 1.213 14.667 0zM18 11.693c0-2.36-1.333-4.386-3.333-5.373v10.707c2-.947 3.333-2.987 3.333-5.334zm-18-4v8h5.333L12 22.36V1.027L5.333 7.693H0z';","      } else if (this.player.volume < 0.5 && this.player.volume > 0.05) {","        this.speaker.attributes.d.value = 'M0 7.667v8h5.333L12 22.333V1L5.333 7.667M17.333 11.373C17.333 9.013 16 6.987 14 6v10.707c2-.947 3.333-2.987 3.333-5.334z';","      } else if (this.player.volume <= 0.05) {","        this.speaker.attributes.d.value = 'M0 7.667v8h5.333L12 22.333V1L5.333 7.667';","      }","    }","  }, {","    key: \"getRangeBox\",","    value: function getRangeBox(event) {","      var rangeBox = event.target;","      var el = this.currentlyDragged;","","      if (event.type === 'click' && this.isDraggable(event.target)) {","        rangeBox = event.target.parentElement.parentElement;","      }","","      if (event.type === 'mousemove') {","        rangeBox = el.parentElement.parentElement;","      }","","      if (event.type === 'touchmove') {","        rangeBox = el.target.parentElement.parentElement;","      }","","      return rangeBox;","    }","  }, {","    key: \"getCoefficient\",","    value: function getCoefficient(event) {","      var touch = 'touches' in event; // instanceof TouchEvent may also be used","","      var slider = this.getRangeBox(event);","      var sliderPositionAndDimensions = slider.getBoundingClientRect();","      var K = 0;","","      if (slider.dataset.direction === 'horizontal') {","        // if event is touch","        var clientX = touch ? event.touches[0].clientX : event.clientX;","        var offsetX = clientX - sliderPositionAndDimensions.left;","        var width = sliderPositionAndDimensions.width;","        K = offsetX / width;","      } else if (slider.dataset.direction === 'vertical') {","        var height = sliderPositionAndDimensions.height;","        var clientY = touch ? event.touches[0].clientY : event.clientY;","        var offsetY = clientY - sliderPositionAndDimensions.top;","        K = 1 - offsetY / height;","      }","","      return K;","    }","  }, {","    key: \"rewind\",","    value: function rewind(event) {","      if (this.player.seekable && this.player.seekable.length) {","        // no seek if not (pre)loaded","        if (this.inRange(event)) {","          this.player.currentTime = this.player.duration * this.getCoefficient(event);","        }","      }","    }","  }, {","    key: \"showVolume\",","    value: function showVolume() {","      if (this.volumeBtn.getAttribute('aria-attribute') === this.labels.volume.open) {","        this.volumeControls.classList.remove('hidden');","        this.volumeBtn.classList.add('open');","        this.volumeBtn.setAttribute('aria-label', this.labels.volume.close);","        this.hasSetAttribute(this.volumeBtn, 'title', this.labels.volume.close);","      }","    }","  }, {","    key: \"showHideVolume\",","    value: function showHideVolume() {","      this.volumeControls.classList.toggle('hidden');","","      if (this.volumeBtn.getAttribute('aria-label') === this.labels.volume.open) {","        this.volumeBtn.setAttribute('aria-label', this.labels.volume.close);","        this.hasSetAttribute(this.volumeBtn, 'title', this.labels.volume.close);","        this.volumeBtn.classList.add('open');","      } else {","        this.volumeBtn.setAttribute('aria-label', this.labels.volume.open);","        this.hasSetAttribute(this.volumeBtn, 'title', this.labels.volume.open);","        this.volumeBtn.classList.remove('open');","      }","    }","  }, {","    key: \"changeVolume\",","    value: function changeVolume(event) {","      if (this.inRange(event)) {","        this.player.volume = Math.round(this.getCoefficient(event) * 50) / 50;","      }","    }","  }, {","    key: \"preloadNone\",","    value: function preloadNone() {","      var self = this;","","      if (!this.player.duration) {","        self.playPauseBtn.style.visibility = 'hidden';","        self.loading.style.visibility = 'visible';","      }","    }","  }, {","    key: \"togglePlay\",","    value: function togglePlay() {","      this.preloadNone();","","      if (this.player.paused) {","        if (this.stopOthersOnPlay) {","          GreenAudioPlayer.stopOtherPlayers();","        }","","        GreenAudioPlayer.playPlayer(this.player);","        this.playPauseBtn.setAttribute('aria-label', this.labels.pause);","        this.hasSetAttribute(this.playPauseBtn, 'title', this.labels.pause);","      } else {","        GreenAudioPlayer.pausePlayer(this.player, 'toggle');","        this.playPauseBtn.setAttribute('aria-label', this.labels.play);","        this.hasSetAttribute(this.playPauseBtn, 'title', this.labels.play);","      }","    }","  }, {","    key: \"hasSetAttribute\",","    value: function hasSetAttribute(el, a, v) {","      if (this.showTooltips) {","        if (el.hasAttribute(a)) {","          el.setAttribute(a, v);","        }","      }","    }","  }, {","    key: \"setCurrentTime\",","    value: function setCurrentTime(time) {","      var pos = this.player.currentTime;","      var end = Math.floor(this.player.duration);","","      if (pos + time < 0 && pos === 0) {","        this.player.currentTime = this.player.currentTime;","      } else if (pos + time < 0) {","        this.player.currentTime = 0;","      } else if (pos + time > end) {","        this.player.currentTime = end;","      } else {","        this.player.currentTime += time;","      }","    }","  }, {","    key: \"setVolume\",","    value: function setVolume(volume) {","      if (this.isDevice) return;","      var vol = this.player.volume;","","      if (vol + volume >= 0 && vol + volume < 1) {","        this.player.volume += volume;","      } else if (vol + volume <= 0) {","        this.player.volume = 0;","      } else {","        this.player.volume = 1;","      }","    }","  }, {","    key: \"unPressKb\",","    value: function unPressKb(event) {","      var evt = event || window.event;","","      if (this.seeking && (evt.keyCode === 37 || evt.keyCode === 39)) {","        this.togglePlay();","        this.seeking = false;","      }","    }","  }, {","    key: \"pressKb\",","    value: function pressKb(event) {","      var evt = event || window.event;","","      switch (evt.keyCode) {","        case 13: // Enter","","        case 32:","          // Spacebar","          if (document.activeElement.parentNode === this.playPauseBtn) {","            this.togglePlay();","          } else if (document.activeElement.parentNode === this.volumeBtn || document.activeElement === this.sliders[1]) {","            if (document.activeElement === this.sliders[1]) {","              try {","                // IE 11 not supporting programmatic focus on svg elements","                this.volumeBtn.children[0].focus();","              } catch (error) {","                this.volumeBtn.focus();","              }","            }","","            this.showHideVolume();","          }","","          if (evt.keyCode === 13 && this.showDownload && document.activeElement.parentNode === this.downloadLink) {","            this.downloadLink.focus();","          }","","          break;","","        case 37:","        case 39:","          // horizontal Arrows","          if (document.activeElement === this.sliders[0]) {","            if (evt.keyCode === 37) {","              this.setCurrentTime(-5);","            } else {","              this.setCurrentTime(+5);","            }","","            if (!this.player.paused && this.player.seeking) {","              this.togglePlay();","              this.seeking = true;","            }","          }","","          break;","","        case 38:","        case 40:","          // vertical Arrows","          if (document.activeElement.parentNode === this.volumeBtn || document.activeElement === this.sliders[1]) {","            if (evt.keyCode === 38) {","              this.setVolume(0.05);","            } else {","              this.setVolume(-0.05);","            }","          }","","          if (document.activeElement.parentNode === this.volumeBtn) {","            this.showVolume();","          }","","          break;","","        default:","          break;","      }","    }","  }, {","    key: \"showLoadingIndicator\",","    value: function showLoadingIndicator() {","      this.playPauseBtn.style.visibility = 'hidden';","      this.loading.style.visibility = 'visible';","    }","  }, {","    key: \"hideLoadingIndicator\",","    value: function hideLoadingIndicator() {","      this.playPauseBtn.style.visibility = 'visible';","      this.loading.style.visibility = 'hidden';","    }","  }, {","    key: \"showDownload\",","    value: function showDownload() {","      this.download.style.display = 'block';","    }","  }, {","    key: \"downloadAudio\",","    value: function downloadAudio() {","      var src = this.player.currentSrc;","      var name = src.split('/').reverse()[0];","      this.downloadLink.setAttribute('href', src);","      this.downloadLink.setAttribute('download', name);","    }","  }, {","    key: \"directionAware\",","    value: function directionAware() {","      this.volumeControls.classList.remove('top', 'middle', 'bottom');","","      if (window.innerHeight < 250) {","        this.volumeControls.classList.add('middle');","      } else if (this.audioPlayer.getBoundingClientRect().top < 180) {","        this.volumeControls.classList.add('bottom');","      } else {","        this.volumeControls.classList.add('top');","      }","    }","  }], [{","    key: \"init\",","    value: function init(options) {","      var players = document.querySelectorAll(options.selector);","      players.forEach(function (player) {","        /* eslint-disable no-new */","        new GreenAudioPlayer(player, options);","      });","    }","  }, {","    key: \"getTemplate\",","    value: function getTemplate() {","      return \"\\n            <div class=\\\"holder\\\">\\n                <div class=\\\"loading\\\">\\n                    <div class=\\\"loading__spinner\\\"></div>\\n                </div>\\n\\n                <div class=\\\"play-pause-btn\\\" aria-label=\\\"Play\\\" role=\\\"button\\\">\\n                    <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"18\\\" height=\\\"24\\\" viewBox=\\\"0 0 18 24\\\">\\n                        <path fill=\\\"#566574\\\" fill-rule=\\\"evenodd\\\" d=\\\"M18 12L0 24V0\\\" class=\\\"play-pause-btn__icon\\\"/>\\n                    </svg>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"controls\\\">\\n                <span class=\\\"controls__current-time\\\" aria-live=\\\"off\\\" role=\\\"timer\\\">00:00</span>\\n                <div class=\\\"controls__slider slider\\\" data-direction=\\\"horizontal\\\">\\n                    <div class=\\\"controls__progress gap-progress\\\" aria-label=\\\"Time Slider\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" aria-valuenow=\\\"0\\\" role=\\\"slider\\\">\\n                        <div class=\\\"pin progress__pin\\\" data-method=\\\"rewind\\\"></div>\\n                    </div>\\n                </div>\\n                <span class=\\\"controls__total-time\\\">00:00</span>\\n            </div>\\n\\n            <div class=\\\"volume\\\">\\n                <div class=\\\"volume__button\\\" aria-label=\\\"Open Volume Controls\\\" role=\\\"button\\\">\\n                    <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\">\\n                        <path class=\\\"volume__speaker\\\" fill=\\\"#566574\\\" fill-rule=\\\"evenodd\\\" d=\\\"M14.667 0v2.747c3.853 1.146 6.666 4.72 6.666 8.946 0 4.227-2.813 7.787-6.666 8.934v2.76C20 22.173 24 17.4 24 11.693 24 5.987 20 1.213 14.667 0zM18 11.693c0-2.36-1.333-4.386-3.333-5.373v10.707c2-.947 3.333-2.987 3.333-5.334zm-18-4v8h5.333L12 22.36V1.027L5.333 7.693H0z\\\"/>\\n                    </svg>\\n                    <span class=\\\"message__offscreen\\\">Press Enter or Space to show volume slider.</span>\\n                </div>\\n                <div class=\\\"volume__controls hidden\\\">\\n                    <div class=\\\"volume__slider slider\\\" data-direction=\\\"vertical\\\">\\n                        <div class=\\\"volume__progress gap-progress\\\" aria-label=\\\"Volume Slider\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" aria-valuenow=\\\"81\\\" role=\\\"slider\\\">\\n                            <div class=\\\"pin volume__pin\\\" data-method=\\\"changeVolume\\\"></div>\\n                        </div>\\n                        <span class=\\\"message__offscreen\\\">Use Up/Down Arrow keys to increase or decrease volume.</span>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"download\\\">\\n                <a class=\\\"download__link\\\" href=\\\"\\\" download=\\\"\\\" aria-label=\\\"Download\\\" role=\\\"button\\\">\\n                    <svg width=\\\"24\\\" height=\\\"24\\\" fill=\\\"#566574\\\" enable-background=\\\"new 0 0 29.978 29.978\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 29.978 29.978\\\" xml:space=\\\"preserve\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                        <path d=\\\"m25.462 19.105v6.848h-20.947v-6.848h-4.026v8.861c0 1.111 0.9 2.012 2.016 2.012h24.967c1.115 0 2.016-0.9 2.016-2.012v-8.861h-4.026z\\\"/>\\n                        <path d=\\\"m14.62 18.426l-5.764-6.965s-0.877-0.828 0.074-0.828 3.248 0 3.248 0 0-0.557 0-1.416v-8.723s-0.129-0.494 0.615-0.494h4.572c0.536 0 0.524 0.416 0.524 0.416v8.742 1.266s1.842 0 2.998 0c1.154 0 0.285 0.867 0.285 0.867s-4.904 6.51-5.588 7.193c-0.492 0.495-0.964-0.058-0.964-0.058z\\\"/>\\n                    </svg>\\n                </a>\\n            </div>\\n        \";","    }","  }, {","    key: \"formatTime\",","    value: function formatTime(time) {","      var min = Math.floor(time / 60);","      var sec = Math.floor(time % 60);","      return \"\".concat(min < 10 ? \"0\".concat(min) : min, \":\").concat(sec < 10 ? \"0\".concat(sec) : sec);","    }","  }, {","    key: \"pausePlayer\",","    value: function pausePlayer(player) {","      var playPauseButton = player.parentElement.querySelector('.play-pause-btn__icon');","      playPauseButton.attributes.d.value = 'M18 12L0 24V0';","      player.pause();","    }","  }, {","    key: \"playPlayer\",","    value: function playPlayer(player) {","      var playPauseButton = player.parentElement.querySelector('.play-pause-btn__icon');","      playPauseButton.attributes.d.value = 'M0 0h6v24H0zM12 0h6v24h-6z';","      player.play();","    }","  }, {","    key: \"stopOtherPlayers\",","    value: function stopOtherPlayers() {","      var players = document.querySelectorAll('.green-audio-player audio');","","      for (var i = 0; i < players.length; i++) {","        GreenAudioPlayer.pausePlayer(players[i]);","      }","    }","    ","    ","  }]);","","  return GreenAudioPlayer;","}();","","var _default = GreenAudioPlayer;","exports.default = _default;","","},{}]},{},[1])(1)","});",""],"id":51},{"start":{"row":0,"column":0},"end":{"row":217,"column":29},"action":"insert","lines":["/*"," * $(selector).initAudioPlayer();"," * 不支持自动播放-想了下，用播放器样式的一般都不自动播放，影响用户体验。一般要自动播放的都不需要进度条之类的，需要一个切换按钮即可。"," * 不支持audio的浏览器直接return"," */","",";(function($, window, document, undefined) {","\t// 播放器样式 - 替换到css更改样式即可","\tif (!$('#ppq-audio-player-style').length) {","\t\tvar style = '<style id=\"ppq-audio-player-style\" type=\"text/css\">\\","\t\t\thtml{font-size:14px}\\","\t\t\tbody{margin:0;padding:0;border:0;word-wrap:break-word;word-break:break-all;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;}\\","\t\t\ta, button, input, select, textarea{-webkit-tap-highlight-color:transparent}\\","\t\t\tol, ul {list-style:none;}\\","\t\t\t.audio-hidden{width:0;height:0;visibility:hidden}\\","\t\t\t.ppq-audio-player .play-pause-btn .play-pause-icon:after{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}\\","\t\t\t.ppq-audio-player .play-pause-btn .play-pause-icon:after,.ppq-audio-player.player-playing .play-pause-icon:after{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAASCAMAAADrP+ckAAABNVBMVEUAAAAAmIcAmYgAm4sAnIsAnIwAnI0AnY0AnY4Ano4Ano8An5AAoJEAoZEAoZIAopMBn5ABoJABoJEBoZEBoZIBoZMBopMCoZICopMCopQCo5QDoJEDoZEDo5QDo5UFopMGo5QKpJYLpJYMpZcMppgNpZcNppgNp5gOppcOppgOp5gOp5kQqJoSp5kSqJoTqZsbrJ4drJ8irZ8mrqEnsKMrsqUtsqYytKg0tak5t6tHvLJJvbNLvbNqycBrysFsycFwy8Jwy8N3zsZ+0MiA0cqD0suH1M2L1c6P1tCk3tmm39mv4t285+PE6ebH6ufN7erS7+zV7+3W8O3X8O7a8u/k9fPs+Pft+Pfx+fjx+fnx+vny+vr1+/v2+/v5/fz7/f38/f38/v38/v79/v7+/v7+//////+ALAV1AAAAAXRSTlMAQObYZgAAATxJREFUKM+F0tlWwjAQBuAgQgHTRFFrqaK4IALiiuKugPsKrqUo0DbO+z+CDYHIFZ279nznP3P+DHLh4+L8HWybAQM+qDdlUgGXMRcqpIwYnIwoG7ct6LjAfgdUKlZoAmPQLMRSCBrLZH4idPAEbqcb11eamm1w1ciqGgJrFVPNiMydfkLH8X5LhXMWV1YOc7WCKSGGHty6A9Z2ZRbFGaEymApFKaHJceXoFRxnmPKcZoQXL79huPLijKng/ouP4nFJZcdXUWJML/gpLyo6du2zPTUmQ3uPw7cnWiK8dPUDzn+rUvVaFXUdv4Fjy+51nBcqj3XxQl71o9v33eqlipO0yZWZJnEE5pqqJZTZsy/xjHKvYqBk82+7FCgiaO1GZqKHz/2TkKpWrYv7qldryIGH9c2bFrR75yXV4PwBrZh1OjRqx9oAAAAASUVORK5CYII=);background-size:37px 18px}\\","\t\t\t.ppq-audio-player{line-height:111px;position:relative;overflow:hidden;height:111px;margin:0 auto;background:#f4f4f4}\\","\t\t\t.ppq-audio-player audio{position:absolute;vertical-align:baseline}\\","\t\t\t.ppq-audio-player .play-pause-btn{float:left;margin:29px 0 0 12px}\\","\t\t\t.ppq-audio-player .play-pause-btn .play-pause-icon{position:relative;display:block;width:47px;height:47px;border:3px solid #00a293;border-radius:100%;background-color:#fff}\\","\t\t\t.ppq-audio-player .play-pause-btn .play-pause-icon:after{display:block;content:\"\";background-position:0 0;width:17px;height:18px}\\","\t\t\t.ppq-audio-player.player-playing .play-pause-icon:after{background-position:-25px 0;width:12px;height:17px}\\","\t\t\t.ppq-audio-player .player-time{float:left;width:51px;margin-right:8px;text-align:right}\\","\t\t\t.ppq-audio-player .player-time-duration{float:right;margin:0 0 0 8px;text-align:left}\\","\t\t\t.ppq-audio-player .player-bar{position:relative;overflow:hidden;height:5px;margin-top:53px;background-color:#fff}\\","\t\t\t.ppq-audio-player .player-bar .player-bar-loaded{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:3px;background:#ddd}\\","\t\t\t.ppq-audio-player .player-bar .player-bar-played{position:absolute;top:0;left:0;width:0;height:100%;border-radius:3px;background:#00a293}\\","\t\t\t</style>';","\t\t$('body').prepend(style);","\t}","","\tvar onMobile = 'ontouchstart' in window,","\t\teStart = onMobile ? 'touchstart' : 'mousedown',","\t\teMove = onMobile ? 'touchmove' : 'mousemove',","\t\teCancel = onMobile ? 'touchcancel' : 'mouseup',","\t\thackPrefixes = ['webkit', 'moz', 'ms', 'o'],","\t\thackHiddenProperty = getHackHidden();","","\t$.fn.initAudioPlayer = function() {","\t\t// 遍历处理audio","\t\tthis.each(function() {","\t\t\tif ($(this).prop('tagName').toLowerCase() !== 'audio') {","\t\t\t\treturn;","\t\t\t}","","\t\t\tvar $this = $(this),","\t\t\t\tfile = $this.attr('src'),","\t\t\t\tisSupport = false;","","\t\t\tif (canFilePlay(file)) {","\t\t\t\tisSupport = true;","\t\t\t} else {","\t\t\t\t$this.find('source').each(function() {","\t\t\t\t\tif (canFilePlay($(this).attr('src'))) {","\t\t\t\t\t\tisSupport = true;","\t\t\t\t\t\treturn false;","\t\t\t\t\t}","\t\t\t\t});","\t\t\t}","","\t\t\tif (!isSupport) {","\t\t\t\treturn;","\t\t\t}","","\t\t\t// 添加播放器盒子","\t\t\tvar $player = $('<div class=\"ppq-audio-player\">' + $('<div>').append($this.eq(0).clone()).html() + '<div class=\"play-pause-btn\"><a href=\"javascript: void(0);\" class=\"play-pause-icon\"></a></div></div>'),","\t\t\t\taudioEle = $player.find('audio')[0];","","\t\t\t$player.find('audio').addClass('audio-hidden');","\t\t\t$player.append('<div class=\"player-time player-time-current\"></div>\\","\t\t\t\t<div class=\"player-time player-time-duration\"></div>\\","\t\t\t\t<div class=\"player-bar\">\\","\t\t\t\t\t<div class=\"player-bar-loaded\"></div>\\","\t\t\t\t\t<div class=\"player-bar-played\"></div>\\","\t\t\t\t</div>');","","\t\t\tvar $bar = $player.find('.player-bar'),","\t\t\t\t$played = $player.find('.player-bar-played'),","\t\t\t\t$loaded = $player.find('.player-bar-loaded'),","\t\t\t\t$current = $player.find('.player-time-current'),","\t\t\t\t$duration = $player.find('.player-time-duration');","","\t\t\t$current.html('00:00');","\t\t\t$duration.html('&hellip;');","","\t\t\tinitAudioEvents();","\t\t\tbindPageEvents();","\t\t\t$this.replaceWith($player);","","\t\t\tfunction initAudioEvents() {","\t\t\t\t// 监听loadeddata，渲染进度条和时间","\t\t\t\taudioEle.addEventListener('loadeddata', function() {","\t\t\t\t\tvar loadTimer = setInterval(function() {","\t\t\t\t\t\tif (audioEle.buffered.length < 1) {","\t\t\t\t\t\t\treturn true;","\t\t\t\t\t\t}","\t\t\t\t\t\t$loaded.width((audioEle.buffered.end(0) / audioEle.duration) * 100 + '%');","\t\t\t\t\t\tif (Math.floor(audioEle.buffered.end(0)) >= Math.floor(audioEle.duration)) {","\t\t\t\t\t\t\tclearInterval(loadTimer);","\t\t\t\t\t\t}","\t\t\t\t\t}, 100);","\t\t\t\t\t$duration.html($.isNumeric(audioEle.duration) ? convertTimeStr(audioEle.duration) : '&hellip;');","\t\t\t\t});","","\t\t\t\t// 监听timeupdate，更新时间和进度条","\t\t\t\taudioEle.addEventListener('timeupdate', function() {","\t\t\t\t\t$current.html(convertTimeStr(audioEle.currentTime));","\t\t\t\t\t$played.width((audioEle.currentTime / audioEle.duration) * 100 + '%');","\t\t\t\t});","","\t\t\t\t// 监听ended，播放完恢复暂停状态","\t\t\t\taudioEle.addEventListener('ended', function() {","\t\t\t\t\t$player.removeClass('player-playing').addClass('player-paused');","\t\t\t\t});","\t\t\t}","","\t\t\tfunction bindPageEvents() {","\t\t\t\t// 监听进度条touch，更新进度条和播放进度","\t\t\t\t$bar.on(eStart, function(e) {","\t\t\t\t\taudioEle.currentTime = getCurrentTime(e);","\t\t\t\t\t$bar.on(eMove, function(e) {","\t\t\t\t\t\taudioEle.currentTime = getCurrentTime(e);","\t\t\t\t\t});","\t\t\t\t}).on(eCancel, function() {","\t\t\t\t\t$bar.unbind(eMove);","\t\t\t\t});","","\t\t\t\t// 监听播放暂停按钮click","\t\t\t\t$player.find('.play-pause-btn').on('click', function() {","\t\t\t\t\tif ($player.hasClass('player-playing')) {","\t\t\t\t\t\t$player.removeClass('player-playing').addClass('player-paused');","\t\t\t\t\t\taudioEle.pause();","\t\t\t\t\t} else {","\t\t\t\t\t\t$player.addClass('player-playing').removeClass('player-paused');","\t\t\t\t\t\taudioEle.play();","\t\t\t\t\t}","\t\t\t\t\treturn false;","\t\t\t\t});","\t\t\t}","","\t\t\tfunction getCurrentTime(e) {","\t\t\t\tvar et = onMobile ? e.originalEvent.touches[0] : e;","\t\t\t\treturn Math.round((audioEle.duration * (et.pageX - $bar.offset().left)) / $bar.width());","\t\t\t}","","\t\t\tif (hackHiddenProperty) {","\t\t\t    var evtname = hackHiddenProperty.replace(/[H|h]idden/, '') + 'visibilitychange';","\t\t\t    document.addEventListener(evtname, function() {","\t\t\t        if (isHidden() || getHackVisibilityState() === 'hidden') {","\t\t\t        \t$player.removeClass('player-playing').addClass('player-paused');","\t\t\t        \taudioEle.pause();","\t\t\t        }","\t\t\t    }, false);","\t\t\t}","","\t\t\twindow.addEventListener('beforeunload', function() {","\t\t\t    $player.removeClass('player-playing').addClass('player-paused');","\t\t\t    audioEle.pause();","\t\t\t}, false);","\t\t});","\t\treturn this;","\t}","","\t// 秒转为时间字符串","\tfunction convertTimeStr(secs) {","\t\tvar m = Math.floor(secs / 60),","            s = Math.floor(secs - m * 60);","        return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s);","\t}","","\t// 判断文件能不能播放","\tfunction canFilePlay(file) {","\t\tif (!file) {","\t\t\treturn false;","\t\t}","\t\tvar media = document.createElement('audio');","\t\tif (typeof media.canPlayType !== 'function') {","\t\t\treturn false;","\t\t}","","\t\tvar res = media.canPlayType('audio/' + file.split('.').pop().toLowerCase());","\t\treturn res === 'probably' || res === 'maybe';","\t}","","\tfunction getHackHidden() {","\t    if ('hidden' in document) {","\t    \treturn 'hidden';","\t    }","\t    for (var i = 0; i < hackPrefixes.length; i++) {","\t        if ((hackPrefixes[i] + 'Hidden') in document) {","\t            return hackPrefixes[i] + 'Hidden';","\t        }","\t    }","\t    return null;","\t}","\t","\tfunction getHackVisibilityState() {","\t    if ('visibilityState' in document) {","\t    \treturn 'visibilityState';","\t    }","\t    for (var i = 0; i < hackPrefixes.length; i++) {","\t        if ((hackPrefixes[i] + 'VisibilityState') in document) {","\t            return hackPrefixes[i] + 'VisibilityState';","\t        }","\t    }","\t    return null;","\t}","\t","\tfunction isHidden() {","\t    var hide = getHackHidden();","\t    if (!hide) {","\t    \treturn false;","\t    }","\t","\t    return document[hide];","\t}","})(jQuery, window, document);"]}]]},"ace":{"folds":[],"scrolltop":334,"scrollleft":0,"selection":{"start":{"row":498,"column":15},"end":{"row":498,"column":15},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":22,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1588695968928,"hash":"4119ab8d55352b23a119581ed5f7f449b5ae18e4"}